tinymce.PluginManager.add('umbdictionary', function (editor) {
    editor.addButton('umbdictionary', {
        icon: 'custom icon-book-alt',
        tooltip: 'Insert Dictionary Key',
        onclick: function () {
            var injector = angular.element(document.getElementById("umbracoMainPageBody")).injector();
            var dialogService = injector.get("dialogService");

            dialogService.open({
                template: '/App_Plugins/DictionaryRTE/dictionarylist.html',
                callback: function (data) {
                    editor.insertContent(data);
                }
            });
        }
    });
});